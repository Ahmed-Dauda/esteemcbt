<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ course.course_name }} Results</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css">

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- DataTables JS -->
  <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
</head>
<body>
<div class="container mt-4">
  <h4 class="mb-3">
    Results for {{ course.course_name }} ({{ school.school_name }})
  </h4>

  <table id="resultsTable" class="table table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>Student Name</th>
        <th>Score</th>
        <th>Term</th>
        <th>Session</th>
        <th>Exam Type</th>
      </tr>
    </thead>
    <tbody>
      {% for result in results %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ result.student.get_full_name|default:result.student.username }}</td>
        <td>{{ result.score }}</td>
        <td>{{ result.term }}</td>
        <td>{{ result.session }}</td>
        <td>{{ result.exam_type }}</td>
      </tr>
      {% empty %}
      <tr><td colspan="6" class="text-center">No results available for this course.</td></tr>
      {% endfor %}
    </tbody>
  </table>

  <a href="{% url 'teacher:examiner_results_list' %}" class="btn btn-secondary mt-3">‚Üê Back to Courses</a>
</div>

<script>
$(document).ready(function () {
  $('#resultsTable').DataTable({
    pageLength: 10,
    lengthMenu: [5, 10, 25, 50],
    language: {
      search: "Search results:",
      lengthMenu: "Show _MENU_ entries",
    }
  });
});
</script>
</body>
</html>
