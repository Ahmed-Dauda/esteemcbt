
{% block content %}
<h3>1Class Reports</h3>

<form id="reportForm">
  <div>
    <label>Session:</label>
    <select name="session_id" id="sessionSelect">
      {% for s in sessions %}
      <option value="{{ s.id }}">{{ s.name }}</option>
      {% endfor %}
    </select>

    <label>Term:</label>
    <select name="term_id" id="termSelect">
      {% for t in terms %}
      <option value="{{ t.id }}">{{ t.name }}</option>
      {% endfor %}
    </select>

    <label>Class:</label>
    <select name="result_class" id="classSelect">
      {% for c in classes %}
      <option value="{{ c }}">{{ c }}</option>
      {% endfor %}
    </select>

    <button type="submit" class="btn btn-primary">View Reports</button>
  </div>
</form>

<script>
document.getElementById('reportForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const sessionId = document.getElementById('sessionSelect').value;
  const termId = document.getElementById('termSelect').value;
  const resultClass = document.getElementById('classSelect').value;

  if (sessionId && termId && resultClass) {
    window.location.href = `/portal/reports/${resultClass}/${sessionId}/${termId}/`;
  } else {
    alert("Please select all fields before proceeding.");
  }
});
</script>
{% endblock %}
