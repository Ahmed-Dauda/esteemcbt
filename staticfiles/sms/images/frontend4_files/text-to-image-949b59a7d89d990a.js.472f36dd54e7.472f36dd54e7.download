(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5630],{6212:function(a,b,c){"use strict";c.d(b,{Z:function(){return e}});var d=c(4297);let e=(0,d.Z)("Edit3",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z",key:"18w55b"}]])},5283:function(a,b,c){"use strict";c.d(b,{Z:function(){return e}});var d=c(4297);let e=(0,d.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},9503:function(a,b,c){"use strict";c.d(b,{Z:function(){return e}});var d=c(4297);let e=(0,d.Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},4965:function(a,b,c){"use strict";c.d(b,{Z:function(){return e}});var d=c(4297);let e=(0,d.Z)("Scaling",[["path",{d:"M21 3 9 15",key:"15kdhq"}],["path",{d:"M12 3H3v18h18v-9",key:"8suug0"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}]])},6795:function(a,b,c){"use strict";c.d(b,{Z:function(){return e}});var d=c(4297);let e=(0,d.Z)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]])},6635:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/text-to-image",function(){return c(3684)}])},340:function(a,b,c){"use strict";c.d(b,{Z:function(){return i}});var d=c(5893),e=c(2492),f=c(7294),g=c(7081),h=c.n(g);function i(a){var b=a.title,c=a.children,g=a.icon,i=a.align,j=a.style,k=a.openByDefault,l=a.tag,m=function(){p(!o)},n=(0,f.useState)(void 0!==k&&k),o=n[0],p=n[1];return(0,d.jsxs)("div",{className:[h()._,h()[void 0===j?"default":j],h()[void 0===i?"left":i],o?h()._open:""].join(" "),children:[(0,d.jsxs)("div",{className:h()._head,onClick:m,children:[(0,d.jsxs)("div",{className:h().head,children:[g||"",(0,d.jsx)("h4",{className:h().title,children:b}),l?(0,d.jsx)("span",{className:h().tag,children:l}):null]}),(0,d.jsx)("div",{className:h().chevron,children:(0,d.jsx)(e.zgq,{size:16,strokeWidth:3})})]}),(0,d.jsx)("div",{className:[h()._content,o?h().open:""].join(" "),children:(0,d.jsx)("div",{className:h().content,children:c})})]})}},4657:function(a,b,c){"use strict";c.d(b,{U:function(){return i},Z:function(){return h}});var d=c(5893),e=c(536),f=c(9580),g=c(4319);function h(a){return(0,d.jsxs)("div",{children:[a.label?(0,d.jsx)(g.Z,{children:a.label}):null,(0,d.jsx)(e.Z,{min:a.min,max:a.max,step:a.step,value:a.value,onChange:a.onChange,railStyle:{background:"rgb(60, 63, 68)"},trackStyle:{backgroundColor:"#5866e6",opacity:.8},handleStyle:{borderWidth:3,borderColor:"#5866e6",backgroundColor:"rgb(60, 63, 68)",width:14,height:14,marginTop:-5,marginLeft:0,opacity:1}}),a.info?(0,d.jsx)("small",{className:"small",children:a.info}):null]})}function i(a){return(0,d.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[a.label?(0,d.jsx)(g.Z,{children:(0,d.jsx)("small",{style:{fontSize:11,display:"block",marginTop:-3},children:a.label})}):null,(0,d.jsx)(e.Z,{min:a.min,max:a.max,step:a.step,value:a.value,onChange:a.onChange,railStyle:{background:"rgb(60, 63, 68)"},trackStyle:{backgroundColor:"#5866e6",opacity:.8},handleStyle:{borderWidth:3,borderColor:"#5866e6",backgroundColor:"rgb(60, 63, 68)",width:14,height:14,marginTop:0,marginLeft:-5,opacity:1},vertical:!0}),(0,d.jsx)("div",{style:{height:36,paddingTop:12},children:(0,d.jsx)(f.Z,{id:"",type:"number",size:"xs",value:a.value,onChange:function(b){return a.onChange(parseFloat(b.target.value))},disableInfo:!0,customStyles:["no-margin"]})})]})}},2911:function(a,b,c){"use strict";c.d(b,{Z:function(){return k}});var d=c(5893),e=c(3464),f=c(3137),g=c(7294),h=c(5777),i=c.n(h),j=c(4319);function k(a){var b=a.height,c=void 0===b?90:b,h=a.placeholder,k=a.label,l=a.id,m=a.name,n=a.error,o=a.value,p=a.onChange,q=a.autoFocus,r=a.info,s=a.autoComplete,t=void 0===s?"off":s,u=a.disabled,v=a.customStyles,w=void 0===v?[]:v,x=a.size,y=a.noInfo,z=a.onBlur,A=a.onFocus,B=function(){var a=E.current;a&&(a.style.height="inherit",a.style.height="".concat(a.scrollHeight+9,"px"))},C=(0,e.C)(f.i2);n=n||C&&C[l];var D=n&&(!n.value&&!o||n.value&&n.value===o),E=(0,g.createRef)(),F=[i().input,i().textarea,i()["textarea_"+x],D?i().input_error:"",w.map(function(a){return i()[a]}).join(" "),].join(" ").trim();return(0,g.useEffect)(function(){if(q){var a;null===(a=document.getElementById(l))|| void 0===a||a.focus()}},[q]),(0,g.useEffect)(function(){B()},[o]),(0,d.jsxs)("div",{className:i()._,children:[(0,d.jsxs)("div",{className:[i()._input,k?i().with_label:""].join(" ").trim(),children:[(0,d.jsx)("textarea",{id:l,name:m||l,className:F,value:o||"",onChange:p,autoComplete:t,placeholder:h,autoFocus:q,disabled:u,ref:E,style:{minHeight:c},onBlur:z,onFocus:A}),(0,d.jsx)(j.Z,{htmlFor:l,className:i().input_label,children:k})]}),y?null:(0,d.jsx)("div",{className:i()._info,children:D?(0,d.jsxs)("div",{className:i().error,children:[(0,d.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M12 8V12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M12 16.0195V16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),n.msg]}):r?(0,d.jsx)("div",{className:i().info,children:r}):null})]})}},3684:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return au}});var d=c(5893),e=c(4038),f=c(7568),g=c(4924),h=c(6042),i=c(9396),j=c(9815),k=c(4051),l=c.n(k),m=c(6154),n=c(7484),o=c.n(n),p=c(4820),q=c(4882),r=c(340),s=c(6665),t=c(7577),u=c(9580),v=c(7551),w=c(5376),x=c(1955),y=c(9503),z=c(1352),A=c(7294),B=c(4830),C=c.n(B);function D(a){var b=a.children,c=a.title,e=a.id,f=function(){x.Z.set(e+"-tip",o()().unix().toString(),{expires:o()().add(24,"months").toDate()}),i(!1)},g=(0,A.useState)(!1),h=g[0],i=g[1];return((0,A.useEffect)(function(){x.Z.get(e+"-tip")||i(!0)},[]),h)?(0,d.jsxs)("div",{className:C().tip,children:[c?(0,d.jsxs)("div",{className:C().tip_title,children:[(0,d.jsx)(y.Z,{size:18}),c]}):null,b,(0,d.jsx)("button",{className:[C().tip_close,c?C().title_close:""].join(" "),onClick:f,children:(0,d.jsx)(z.Z,{size:14})})]}):null}var E=c(3464),F=c(3779),G=c(1664),H=c.n(G),I=c(2492);function J(a){var b=a.text;a.id;var c=(0,E.C)(F.dy);return"free"!==c.plan?null:(0,d.jsx)(H(),{href:"/pricing",children:(0,d.jsxs)("a",{className:C().upgrade,children:[(0,d.jsxs)("div",{children:["Upgrade to ",(0,d.jsx)("span",{className:C().tag,children:"basic"})," plan or higher,\xa0",b]}),(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:C().arrow,children:(0,d.jsx)(I._vk,{size:14,strokeWidth:3})})})]})})}var K=c(7558),L=c(5777),M=c.n(L),N=c(4319),O=c(9706),P=c.n(O);function Q(a){var b=a.onChange,c=a.value,e=a.id,f=function(a){b(a),i(!1)},g=(0,A.useState)(!1),h=g[0],i=g[1],j=[{id:"none",name:"None",description:"Simple image to image mode."},{id:"canny-1.1",name:"Hard Edges",description:"Keep most of visible edges.",image:"/controlnet/canny.jpg"},{id:"softedge-1.1",name:"Soft Edges",description:"Best for recoloring and stylizing.",image:"/controlnet/softedge.jpg"},{id:"mlsd-1.1",name:"Straight Lines",description:"Best for buildings or other structures.",image:"/controlnet/mlsd.jpg"},{id:"normal-1.1",name:"Normal Map",description:"Retain original image normal map.",image:"/controlnet/normal.jpg"},{id:"depth-1.1",name:"Depth",description:"Retain original image depth.",image:"/controlnet/depth.jpg"},{id:"mediapipeface",name:"Face",description:"Copy any facial expression.",image:"/controlnet/face.jpg"},{id:"openpose-1.1",name:"Pose",description:"Copy any human pose.",image:"/controlnet/pose.jpg"},{id:"openpose-full-1.1",name:"Full Body",description:"Copy any human pose with face and hands.",image:"/controlnet/pose-full.jpg"},{id:"scribble-1.1",name:"Scribble",description:"Turn sketches into photos or art.",image:"/controlnet/scribble.jpg"},{id:"lineart-1.1",name:"Lineart",description:"Preserve extracted or uploaded lineart.",image:"/controlnet/lineart.jpg"},{id:"lineart-anime-1.1",name:"Lineart Anime",description:"Better Lineart results for anime models.",image:"/controlnet/lineart-anime.jpg"},{id:"reference-only",name:"Reference Only",description:"Generate people/objects similiar to the reference image.",image:"/controlnet/reference-only.jpg"},],k=j.find(function(a){return a.id===c});return(0,d.jsxs)("div",{className:P()._controlnet_select,children:[(0,d.jsx)("div",{className:[M()._,M().with_label].join(" "),onClick:function(){return i(!0)},children:(0,d.jsxs)("div",{className:[M().input,M().md,M()._select,P().controlnet_select].join(" "),children:[k&&k.name,(0,d.jsx)(N.Z,{htmlFor:e,className:M().input_label,children:"Control image with ControlNet:"}),(0,d.jsx)(I.zgq,{className:P().chevron,size:16,style:{top:32}})]})}),(0,d.jsx)("div",{children:(0,d.jsx)(K.Z,{onClose:function(){return i(!1)},title:(0,d.jsx)("div",{className:P().model_search,children:(0,d.jsx)("span",{children:"Select ControlNet"})}),show:h,size:"md",children:(0,d.jsx)("div",{className:[P().models_list,P().controlnets_list].join(" "),children:j.map(function(a){return(0,d.jsx)("label",{htmlFor:e+a.id,className:[P()._model,P()._controlnet,a.id.toString()===c?P().checked:""].join(" "),children:(0,d.jsxs)("div",{className:P().model,children:[(0,d.jsx)("div",{className:P().controlnet_images,children:a.image?(0,d.jsx)("img",{src:a.image,height:100,alt:"ControlNet"+a.name}):void 0}),(0,d.jsx)("div",{className:[P().model_info,P().controlnet_info].join(" "),children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:P().model_name,children:a.name}),(0,d.jsx)("div",{className:P().model_desc,children:a.description})]})}),(0,d.jsx)("input",{name:e,id:e+a.id,type:"radio",value:a.id,checked:a.id===c,onChange:f,className:P().model_input}),a.id===c?(0,d.jsx)("div",{className:P().checked_icon,children:(0,d.jsx)(I.y$4,{size:10,strokeWidth:4})}):null]})},a.id)})})})})]})}var R=c(7764),S=c(4297);let T=(0,S.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var U=c(5675),V=c.n(U),W=c(4201);function X(a){var b=a.onChange,c=a.models,e=a.value,f=a.id,g=function(a){b(a),k(!1)},h=(0,A.useState)(!1),i=h[0],k=h[1],l=(0,A.useState)(""),m=l[0],n=l[1],p=(0,A.useState)("false"),r=p[0],s=p[1],t=[{id:"stable-diffusion-v2.1",name:"Stable Diffusion v2.1",public:!0,params:{description:"Latest text-to-image model from StabilityAI",author:"stability.ai",author_url:"https://stability.ai/",images:["https://img.getimg.ai/generated/img-9jjtCkXWwKjZe9wElBEly2.jpeg","https://img.getimg.ai/generated/img-YkfgHICXA8YFGEzbWC36kS.jpeg","https://img.getimg.ai/generated/img-q9tOtcskhqYjxvpFdvE5c2.jpeg","https://img.getimg.ai/generated/img-vU4xLUCrxSBSA6ky8cXtuP.jpeg"]},createdAt:void 0,userId:void 0},{id:"stable-diffusion-v1.5",name:"Stable Diffusion v1.5",public:!0,params:{description:"Text-to-image model from StabilityAI",author:"stability.ai",author_url:"https://stability.ai/",images:["https://img.getimg.ai/generated/img-gOyyHvmiu4Fjl21f6ucKav.jpeg","https://img.getimg.ai/generated/img-G99O7IbVKSyyH9XyOMzlxA.jpeg","https://img.getimg.ai/generated/img-Kzpf5VdKQCQkbGFwew5y2q.jpeg","https://img.getimg.ai/generated/img-8VpR28yCp2Bq1T3wfrxeeM.jpeg",]},createdAt:void 0,userId:void 0}].concat((0,j.Z)(c)),v=t.find(function(a){return a.id===e});return(0,d.jsxs)("div",{className:P()._model_select,children:[(0,d.jsx)("div",{onClick:function(){return k(!0)},children:(0,d.jsxs)("div",{className:[P().selected_model].join(" "),children:[(0,d.jsx)(V(),{src:v&&v.params.images&&v.params.images[2],width:16,height:16,loader:W.O,unoptimized:v&&v.params.images&&v.params.images[2].endsWith(".jpeg")}),"Model: ",v?v.name:"Undefined",(0,d.jsx)("span",{className:P().tag,children:"9 new"}),(0,d.jsx)("div",{className:P().arrow,children:(0,d.jsx)(I.zgq,{size:16,strokeWidth:3})})]})}),(0,d.jsx)("div",{children:(0,d.jsx)(K.Z,{onClose:function(){return k(!1)},title:(0,d.jsxs)("div",{className:P().model_search,children:[(0,d.jsx)("span",{children:"Select Model"}),(0,d.jsx)("div",{className:P().search,children:(0,d.jsx)(u.Z,{size:"sm",id:"textFilter",value:m,onChange:function(a){return n(a.target.value)},placeholder:"Search",Icon:R.Z,disableInfo:!0,customStyles:["no-margin"]})}),t.find(function(a){return void 0!==a.userId})?(0,d.jsx)("div",{className:P().dreambooth_filter,children:(0,d.jsx)(q.Z,{id:"public_filter",label:"Hide DreamBooth models",value:r,onChange:function(a){return s(a.target.value)},noError:!0})}):null]}),show:i,size:"lg",children:(0,d.jsx)("div",{className:P().models_list,children:t.filter(function(a){return("true"!==r||a.public)&&(a.name+" "+a.params.description).toLowerCase().search(m.toLowerCase())> -1}).map(function(a){return(0,d.jsx)("label",{htmlFor:f+a.id,className:[P()._model,a.id.toString()===e?P().checked:""].join(" "),children:(0,d.jsxs)("div",{className:P().model,children:[(0,d.jsx)("div",{className:P().model_images,children:a.params.images&&a.params.images.map(function(a,b){return(0,d.jsx)(V(),{src:a,width:100,height:100,loader:W.O,unoptimized:a.endsWith(".jpeg")},b)})}),(0,d.jsxs)("div",{className:P().model_info,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:P().model_name,children:a.name}),(0,d.jsx)("div",{className:P().model_desc,children:a.params.description||'Your own DreamBooth model. Modifer to invoke style "'.concat(a.params.instance_prompt,'"')})]}),a.params.author_url?(0,d.jsxs)("div",{className:P().model_author,children:["by ",(0,d.jsxs)("a",{onClick:function(a){return a.stopPropagation()},target:"_blank",rel:"noreferrer",href:a.params.author_url,children:[(0,d.jsx)(T,{size:13}),a.params.author]})]}):null]}),(0,d.jsx)("input",{name:f,id:f+a.id,type:"radio",value:a.id,checked:a.id===e,onChange:g,className:P().model_input}),a.id===e?(0,d.jsx)("div",{className:P().checked_icon,children:(0,d.jsx)(I.y$4,{size:10,strokeWidth:4})}):null,a.createdAt&&10>o()().diff(o()(a.createdAt),"d")?(0,d.jsx)("span",{className:P().new,children:"new"}):null]})},a.id)})})})})]})}var Y=c(6422),Z=c(4657),$=c(2810),_=c(6435),aa=c(2911),ab=c(3137),ac=c(6486),ad=c.n(ac),ae=c(6212);let af=(0,S.Z)("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);var ag=c(5283),ah=c(3718),ai=c(5657),aj=c(4965),ak=c(6795);let al=(0,S.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),am=(0,S.Z)("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);var an=c(5162),ao=c(8533),ap=c(827),aq=c(9834),ar=c(3913),as=c.n(ar);function at(){var a=function(a){aB((0,i.Z)((0,h.Z)({},aA),(0,g.Z)({},a.target.name,a.target.value)))},b=function(a){a.preventDefault()},c=function(a){var b=a.target.id;a.dataTransfer.setData("text",b),ar(b)},e=function(a){ar(void 0)},k=function(a,b){a.preventDefault();var c=a.dataTransfer.getData("text"),d=C.find(function(a){return a.id===c});d&&aB(function(a){return(0,h.Z)({},ad().set(a,b,(0,i.Z)((0,h.Z)({},d),{strength:1})))})},n=(0,E.T)(),y=(0,E.C)(F.dy),B=(0,A.useState)([]),C=B[0],G=B[1],H=(0,A.useState)(void 0),I=H[0],K=H[1],L=(0,A.useState)("generate"),M=L[0],N=L[1],O=(0,A.useState)("simple"),P=O[0],R=O[1],S=(0,A.useState)({loading:!1,hasMore:!0}),T=S[0],U=S[1],V=(0,A.useState)(void 0),ac=V[0],ar=V[1],at=(0,A.useState)(!1),au=at[0],av=at[1],aw=(0,A.useState)([]),ax=aw[0],ay=aw[1],az=(0,A.useState)({model:"",prompt:"",negativePrompt:"Disfigured, cartoon, blurry, nude",steps:25,guidanceScale:9,imageGuidance:1.5,seed:void 0,numImages:4,enhanceFace:"false",upscale:"false",width:512,height:512,scheduler:"dpmsolver++",strength:.5,controlnet:"none",skipControlnetProcessing:"false",highres:"false",aspectRatio:"1:1",centerCrop:"true",image:{url:""},images:[{url:"",strength:1},{url:"",strength:1},]}),aA=az[0],aB=az[1];function aC(){return(aC=(0,f.Z)(l().mark(function a(){var b;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.Z.get("/api/models?status=active&public=true");case 2:b=a.sent,ay((0,j.Z)(b.data));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aD(){return aE.apply(this,arguments)}function aE(){return(aE=(0,f.Z)(l().mark(function a(){var b,c;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(T.hasMore){a.next=2;break}return a.abrupt("return");case 2:return b=!0,a.prev=3,U((0,i.Z)((0,h.Z)({},T),{loading:!0})),a.next=7,m.Z.get("/api/images?tool=generator&take=24&skip="+C.length);case 7:c=a.sent,G((0,j.Z)(C).concat((0,j.Z)(c.data))),b=c.data.length>0,a.next=15;break;case 12:a.prev=12,a.t0=a.catch(3),G([]);case 15:return a.prev=15,U({loading:!1,hasMore:b}),a.finish(15);case 18:case"end":return a.stop()}},a,null,[[3,12,15,18]])}))).apply(this,arguments)}function aF(a,b){return aG.apply(this,arguments)}function aG(){return(aG=(0,f.Z)(l().mark(function a(b,c){var d,e,f;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(y.id){a.next=3;break}return n((0,ab.FA)("login")),a.abrupt("return");case 3:if(!(!c||ad().get(aA,b).loading)){a.next=5;break}return a.abrupt("return");case 5:if(!(c[0]&&c[0].size>25e6)){a.next=8;break}return(0,ab.yw)(n,{type:"danger",text:"File too large! Max. file size is 25MB."}),a.abrupt("return");case 8:return a.prev=8,aB(function(a){return(0,h.Z)({},ad().set(a,b+".loading",!0))}),(d=new FormData).append("image",c[0]),a.next=14,m.Z.post("/api/images",d);case 14:(f=(e=a.sent).data).strength=1,aB(function(a){return(0,h.Z)({},ad().set(a,b,f))}),a.next=24;break;case 20:a.prev=20,a.t0=a.catch(8),a.t0&&a.t0.response&&a.t0.response.data&&n((0,ab.YW)(a.t0.response.data)),(0,ab.yw)(n,{type:"danger",text:"Please try uploading again!"});case 24:return a.prev=24,aB(function(a){return(0,h.Z)({},ad().set(a,b+".loading",!1))}),a.finish(24);case 27:case"end":return a.stop()}},a,null,[[8,20,24,27]])}))).apply(this,arguments)}function aH(){return(aH=(0,f.Z)(l().mark(function a(){var b;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.Z.get("/api/prompts/random");case 2:b=a.sent,aB((0,i.Z)((0,h.Z)({},aA),{prompt:b.data.prompt}));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aI(a){return aJ.apply(this,arguments)}function aJ(){return(aJ=(0,f.Z)(l().mark(function a(b){return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!au){a.next=3;break}return(0,ab.yw)(n,{type:"danger",text:"Please wait until current task is completed!"}),a.abrupt("return");case 3:aS(void 0,"upscale",b);case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aK(a){return aL.apply(this,arguments)}function aL(){return(aL=(0,f.Z)(l().mark(function a(b){return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!au){a.next=3;break}return(0,ab.yw)(n,{type:"danger",text:"Please wait until current task is completed!"}),a.abrupt("return");case 3:aS(void 0,"enhance-face",b);case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aM(a){return aN.apply(this,arguments)}function aN(){return(aN=(0,f.Z)(l().mark(function a(b){return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:aB(function(a){return(0,i.Z)((0,h.Z)({},a),{image:(0,h.Z)({},a.image,b)})}),(0,ab.yw)(n,{text:"Copied init image.",type:"success"});case 2:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aO(a){return aP.apply(this,arguments)}function aP(){return(aP=(0,f.Z)(l().mark(function a(b){var c,d,e;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:c=b.modelTask,d=b.modelTask.params,e=b.modelTask._model,aB(function(a){var b=(0,h.Z)({},a);return"instruct-pix2pix"===c.model?N("edit"):"image-mixer"===c.model?N("mix"):(b.model=c.model.replace("-img2img","").replace("-inpaint","").replace("-txt2img",""),N("generate")),d.prompt&&(b.prompt=d.prompt),e&&!e.id.includes("/")&&(b.prompt=b.prompt.replace(e.params.instance_prompt+", ","")),d.guidance_scale&&(b.guidanceScale=d.guidance_scale),d.image_guidance_scale&&(b.imageGuidance=d.image_guidance_scale),d.width&&(b.width=d.width),d.height&&(b.height=d.height),d.scheduler&&(b.scheduler=d.scheduler),"free"===y.plan&&d.num_inference_steps&&d.num_inference_steps>50?b.steps=50:d.num_inference_steps&&(b.steps=d.num_inference_steps),d.negative_prompt&&(b.negativePrompt=d.negative_prompt),d.strength&&(b.strength=d.strength),d.controlnet&&(b.controlnet=d.controlnet),d.image_url&&(b.image=(0,i.Z)((0,h.Z)({},a.image),{url:d.image_url})),d.images&&d.images.length&&(b.images=(0,j.Z)(d.images)),R("advanced"),b}),(0,ab.yw)(n,{text:"Copied parameters.",type:"success"});case 5:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aQ(a){return aR.apply(this,arguments)}function aR(){return(aR=(0,f.Z)(l().mark(function a(b){return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(aA.image&&aA.image.id==b.id)){a.next=3;break}return(0,ab.yw)(n,{type:"danger",text:"Image currently used as source for generation!"}),a.abrupt("return");case 3:try{m.Z.delete("/api/images?ids="+b.id),G(function(a){return a.filter(function(a){return a.id!==b.id})})}catch(c){(0,ab.yw)(n,{type:"danger",text:"Unexpected Error!"})}case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aS(a,b,c){return aT.apply(this,arguments)}function aT(){return(aT=(0,f.Z)(l().mark(function a(b,c,d){var e,g,k,o,p,q,r,s,t,u,v,w,x,z,A,B,C,D,E;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b&&b.preventDefault(),n((0,ab.b9)()),g="upscale"===(e=c||M)||"enhance-face"===e?1:aA.numImages,k="upscale"===e||"enhance-face"===e?1:aA.numImages*(1+("true"===aA.enhanceFace?1:0)+("true"===aA.highres&&"generate"===M&&"simple"===P?1:0)),!au){a.next=8;break}return(0,ab.yw)(n,{type:"danger",text:"Please wait until current task is completed!"}),a.abrupt("return");case 8:if(y.id){a.next=11;break}return n((0,ab.FA)("register")),a.abrupt("return");case 11:if(!(y&&y.credits<k)){a.next=14;break}return n((0,ab.FA)("credits")),a.abrupt("return");case 14:if(!("active"!==y.status)){a.next=17;break}return(0,ab.yw)(n,{text:"Please verify your account!",type:"info"}),a.abrupt("return");case 17:if(!(aA.image&&aA.image.loading)){a.next=20;break}return(0,ab.yw)(n,{text:"Please wait until source image is fully loaded!",type:"info"}),a.abrupt("return");case 20:if(a.prev=20,o=function(a){p.num_images=1,B+=1,A.push(new Promise(function(){var b=(0,f.Z)(l().mark(function b(c){var d,e,f,g;return l().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d=(0,h.Z)({},p),p.seed&&(d.seed+=a),b.next=4,m.Z.post("/api/models/"+q,d);case 4:if("failed"!==(f=(e=b.sent).data[0]).status){b.next=8;break}throw Error("Something went wrong!");case 8:(g=f.images[0]).modelTask=(0,i.Z)((0,h.Z)({},f),{images:void 0}),G(function(b){var e=(0,j.Z)(b);return d.seed?e[a]=g:(e[B-1]=g,B--),c(!0),(0,j.Z)(e)});case 11:case"end":return b.stop()}},b)}));return function(a){return b.apply(this,arguments)}}()))},av(!0),p={tool:"generator"},q=aA.model,("generate"===e||"edit"===e||"mix"===e)&&("free"===y.plan&&aA.steps>50?(p.num_inference_steps=50,aB(function(a){return(0,i.Z)((0,h.Z)({},a),{steps:50})})):p.num_inference_steps=aA.steps,"free"===y.plan&&parseInt(aA.numImages.toString())>4&&aB(function(a){return(0,i.Z)((0,h.Z)({},a),{numImages:4})}),p.guidance_scale=aA.guidanceScale,p.num_images=parseInt(aA.numImages.toString()),p.width=aA.width,p.height=aA.height,p.enhance_face=aA.enhanceFace,p.scheduler=aA.scheduler,"true"===aA.enhanceFace&&(p.enhance_face=!0)),!("generate"===e||"edit"===e)){a.next=53;break}if(p.prompt=aA.prompt,p.prompt){a.next=31;break}return(0,ab.yw)(n,{text:"Text prompt is required for generation!",type:"danger"}),a.abrupt("return");case 31:if(!("edit"===e&&(!aA.image||!aA.image.url))){a.next=34;break}return(0,ab.yw)(n,{text:"Image is required for Editing!",type:"danger"}),a.abrupt("return");case 34:if(!aA.model.startsWith("model")){a.next=39;break}if(r=ax.find(function(a){return a.id===aA.model})){a.next=38;break}return a.abrupt("return");case 38:r.params.instance_prompt&&!p.prompt.includes(r.params.instance_prompt)&&(p.prompt=r.params.instance_prompt+", "+p.prompt);case 39:if(aA.negativePrompt&&(p.negative_prompt=aA.negativePrompt),aA.seed&&(p.seed=parseInt(aA.seed)),"edit"===e&&(p.image_guidance_scale=aA.imageGuidance,p.scheduler="euler_a"),aA.image&&aA.image.url&&(p.image_url=aA.image.url,p.center_crop=aA.centerCrop),!(p.image_url&&"generate"===e)){a.next=50;break}if(p.strength=aA.strength,0!==Math.floor(p.strength*p.num_inference_steps)){a.next=48;break}return(0,ab.yw)(n,{text:"Strength \xd7 Steps should be greater than 0",type:"danger"}),a.abrupt("return");case 48:s=ax.find(function(a){return a.id===aA.model}),"none"===aA.controlnet||"stable-diffusion-v2.1"===aA.model||s&&s.params.base_model&&s.params.base_model.startsWith("stabilityai/stable-diffusion-2-1")||(p.controlnet=aA.controlnet,p.skip_controlnet_processing=aA.skipControlnetProcessing,"reference-only"!==p.controlnet||(p.scheduler="euler_a"));case 50:"edit"===e?q="instruct-pix2pix":"true"===aA.highres&&"simple"===P&&"free"!==y.plan&&(p.highres=2),a.next=90;break;case 53:if("mix"!==e){a.next=89;break}p.images=[],t=!0,u=!1,v=void 0,a.prev=56,w=aA.images[Symbol.iterator]();case 58:if(t=(x=w.next()).done){a.next=69;break}if(!(z=x.value).loading){a.next=63;break}return(0,ab.yw)(n,{text:"Please wait until all images are loaded!",type:"danger"}),a.abrupt("return");case 63:if(!(!z.strength||!z.url)){a.next=65;break}return a.abrupt("continue",66);case 65:p.images.push({url:z.url,strength:z.strength});case 66:t=!0,a.next=58;break;case 69:a.next=75;break;case 71:a.prev=71,a.t0=a.catch(56),u=!0,v=a.t0;case 75:a.prev=75,a.prev=76,t||null==w.return||w.return();case 78:if(a.prev=78,!u){a.next=81;break}throw v;case 81:return a.finish(78);case 82:return a.finish(75);case 83:if(!(p.images.length<1)){a.next=86;break}return(0,ab.yw)(n,{text:"Please upload at least 1 image!",type:"danger"}),a.abrupt("return");case 86:q="image-mixer",a.next=90;break;case 89:"upscale"===e?(p.upscale=4,p.image_url=d&&d.url,q="real-esrgan"):"enhance-face"===e&&(p.enhance_face=!0,p.image_url=d&&d.url,q="gfpgan");case 90:for(G(function(a){return(0,j.Z)(Array(g).fill(1).map(function(b,c){return(0,i.Z)((0,h.Z)({},a.length?a[0]:{}),{id:Math.random().toString(),loading:!0,seed:parseInt(p.seed)+c,width:d?d.width:aA.width,height:d?d.height:aA.height})})).concat((0,j.Z)(a))}),window.scrollTo({top:window.innerWidth<700?window.innerHeight:0,behavior:"smooth"}),A=[],B=0,C=0;C<g;C++)o(C);return a.next=97,Promise.all(A);case 97:n((0,F.FA)(-1*k)),a.next=117;break;case 100:if(a.prev=100,a.t1=a.catch(20),!(a.t1&&a.t1.response&&a.t1.response.data)){a.next=115;break}D=a.t1.response.data,a.t2=l().keys(D);case 105:if((a.t3=a.t2()).done){a.next=112;break}if("message"!==(E=a.t3.value)){a.next=109;break}return a.abrupt("continue",105);case 109:(0,ab.yw)(n,{text:"".concat(D[E].msg),type:"info"}),a.next=105;break;case 112:n((0,ab.YW)(D)),a.next=116;break;case 115:(0,ab.yw)(n,{text:"Something went wrong!",type:"danger"});case 116:G(function(a){return a.filter(function(a){return!a.loading})});case 117:return a.prev=117,av(!1),a.finish(117);case 120:case"end":return a.stop()}},a,null,[[20,100,117,120],[56,71,75,83],[76,,78,82]])}))).apply(this,arguments)}function aU(){return(aU=(0,f.Z)(l().mark(function a(){var b,c,d,e,f,g;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b=new URLSearchParams(window.location.search),(c=x.Z.get("text-to-image-state"))&&((d=JSON.parse(c)).image&&delete d.image,d.images&&delete d.images,d.highres&&delete d.highres,aB(function(a){return(0,h.Z)({},a,d)})),(e=b.get("model"))?aB(function(a){return(0,i.Z)((0,h.Z)({},a),{model:e})}):c||aB(function(a){return(0,i.Z)((0,h.Z)({},a),{model:"model-SG161222/Realistic_Vision_V1.3"})}),f=b.get("img")||b.get("init-img")){a.next=8;break}return a.abrupt("return");case 8:return a.prev=8,a.next=11,m.Z.get("/api/images/"+f);case 11:g=a.sent,b.has("img")?aO(g.data):b.has("init-img")&&aM(g.data),a.next=17;break;case 15:a.prev=15,a.t0=a.catch(8);case 17:case"end":return a.stop()}},a,null,[[8,15]])}))).apply(this,arguments)}(0,A.useEffect)(function(){(function(){aC.apply(this,arguments)})(),function(){aU.apply(this,arguments)}()},[]),(0,A.useEffect)(function(){y.id&&aD()},[y.id]),(0,A.useEffect)(function(){var a=(0,h.Z)({},aA);a.model&&("edit"===M?a.negativePrompt=a.negativePrompt&&"Disfigured, cartoon, blurry, nude"!==a.negativePrompt?a.negativePrompt:"":a.negativePrompt=a.negativePrompt||"Disfigured, cartoon, blurry, nude",aB(function(b){return(0,h.Z)({},b,a)}))},[aA.model,M]),(0,A.useEffect)(function(){var a=(0,h.Z)({},aA),b=a.aspectRatio.split(":"),c=parseInt(b[0]),d=parseInt(b[1]),e=512,f=a.model;if(f){if("edit"===M&&(e=512),f.startsWith("model-")){var g=ax.find(function(a){return a.id===f});g&&(e=g.params.resolution||512)}else f.endsWith("v2.1")&&(e=768);var j=e,k=e;c>d?j*=c/d:k*=d/c,aB(function(a){return(0,i.Z)((0,h.Z)({},a),{width:Math.round(j),height:Math.round(k)})})}},[aA.aspectRatio,aA.model,M]),(0,A.useEffect)(function(){1/aA.steps>aA.strength&&aB(function(a){return(0,i.Z)((0,h.Z)({},a),{strength:Math.round(1/aA.steps*100)/100})})},[aA.steps,aA.strength]),(0,A.useEffect)(function(){aA.model&&x.Z.set("text-to-image-state",JSON.stringify(aA),{expires:o()().add(24,"months").toDate()})},[aA]),(0,A.useEffect)(function(){var a=function(a){if((a.altKey||a.metaKey)&&("g"===a.key||"Enter"===a.key)&&(a.preventDefault(),aS()),I&&"ArrowRight"===a.key){var b=C.findIndex(function(a){return a.id===I.id})+1;b<C.length&&K(C[b]),b>.7*C.length&&T.hasMore&&aD()}if(I&&"ArrowLeft"===a.key){var c=C.findIndex(function(a){return a.id===I.id})-1;c> -1&&K(C[c])}I&&"Escape"===a.key&&K(void 0)};return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}},[y.id,aA,I,C,T,au]);var aV=ax.find(function(a){return a.id===aA.model});return(0,d.jsxs)("div",{className:as()._,children:[(0,d.jsx)("div",{className:as()._controls,children:(0,d.jsxs)("div",{className:as().controls,children:[(0,d.jsx)("div",{className:as()._tabs,children:(0,d.jsx)("div",{className:as().tabs,children:(0,d.jsxs)(_.m,{children:[(0,d.jsx)(_.O,{onClick:function(){return N("generate")},active:"generate"===M,children:"Generate"}),(0,d.jsx)(_.O,{onClick:function(){return N("edit")},active:"edit"===M,children:"Edit"})]})})}),(0,d.jsx)("div",{className:as()._parameters,children:(0,d.jsxs)("div",{className:as().parameters,children:["generate"===M?(0,d.jsx)(X,{id:"model",models:ax,value:aA.model,onChange:a}):null,"generate"===M||"edit"===M?(0,d.jsxs)(r.Z,{icon:(0,d.jsx)(ae.Z,{}),title:"edit"===M?"Instruction":"Prompt",style:"plain",openByDefault:!0,children:[(0,d.jsx)(aa.Z,{label:"edit"===M?"Instruction":"Prompt",id:"prompt",placeholder:"edit"===M?"Use natural language to edit the image e.g. make it a miro painting, add fireworks to the sky, what if it was an anime ...":"Describe something you'd like to see generated. Experiment with different words and styles...",value:aA.prompt,onChange:a,autoFocus:!0,size:"md",noInfo:!0}),"generate"===M?(0,d.jsx)("div",{className:as().random,children:(0,d.jsxs)(p.Z,{htmlType:"button",size:"xs",type:"default",onClick:function(){return aH.apply(this,arguments)},children:[(0,d.jsx)(af,{})," Random"]})}):(0,d.jsx)("div",{}),(0,d.jsx)(u.Z,{label:"Negative prompt",id:"negativePrompt",placeholder:"Describe what you don't want in your image",value:aA.negativePrompt,onChange:a,disableInfo:!0})]}):null,"generate"===M||"edit"===M?(0,d.jsxs)(r.Z,{icon:(0,d.jsx)(ag.Z,{}),title:"Image",style:"plain",children:[(0,d.jsxs)("div",{className:as().upload,onDrop:function(a){return k(a,"image")},onDragOver:b,children:[(0,d.jsx)(an.ZP,{accept:{"image/png":[".png"],"image/jpeg":[".jpeg",".jpg"]},multiple:!1,onDropAccepted:function(a){return aF("image",a)},disabled:aA.image.loading,children:function(a){var b=a.getRootProps,c=a.getInputProps;return(0,d.jsx)("div",(0,i.Z)((0,h.Z)({},b()),{className:as()._dropzone,children:(0,d.jsxs)("div",{className:as().dropzone,children:[(0,d.jsx)("input",(0,h.Z)({},c())),aA.image.url?(0,d.jsx)("div",{className:as().dropzone_image,children:(0,d.jsx)("img",{src:aA.image.url,alt:""})}):(0,d.jsx)("p",{children:"Drag an image here, or click to select one."}),aA.image.loading?(0,d.jsx)("div",{className:as().image_loader,children:(0,d.jsx)(v.Z,{text:"",size:20})}):null]})}))}}),aA.image.url?(0,d.jsx)("div",{className:as().upload_delete,children:(0,d.jsx)(p.Z,{onClick:function(){return aB(function(a){return(0,h.Z)({},ad().set(a,"image",{}))})},type:"icon",size:"xs",children:(0,d.jsx)(ah.Z,{})})}):(0,d.jsx)("div",{})]}),(0,d.jsx)("div",{style:{marginTop:-9},children:(0,d.jsx)(q.Z,{id:"centerCrop",value:aA.centerCrop,label:"Crop center to fit output resolution",onChange:a,noError:!0})}),(0,d.jsx)("div",{style:{height:18}}),"edit"===M?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Z.Z,{label:"Image guidance: ".concat(aA.imageGuidance),min:1,max:3,step:.1,value:aA.imageGuidance,onChange:function(a){return aB((0,i.Z)((0,h.Z)({},aA),{imageGuidance:a}))}}),(0,d.jsx)(D,{id:"image-guidance",title:"Image guidance",children:"Image guidance decides how strongly does the original image should be preserved. Higher image guidance encourages to generate images that are closely linked to the source, usually at the expense of lower image quality."})]}):(0,d.jsxs)(d.Fragment,{children:["stable-diffusion-v2.1"===aA.model||aV&&aV.params.base_model&&aV.params.base_model.startsWith("stabilityai/stable-diffusion-2-1")?null:(0,d.jsx)(Q,{id:"controlnet",value:aA.controlnet,onChange:a}),"none"===aA.controlnet||"stable-diffusion-v2.1"===aA.model||aV&&aV.params.base_model&&aV.params.base_model.startsWith("stabilityai/stable-diffusion-2-1")?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Z.Z,{label:"Strength: ".concat(aA.strength),min:.01*aA.steps<1?Math.round(1/aA.steps*100)/100:.01,max:1,step:.01,value:aA.strength,onChange:function(a){return aB((0,i.Z)((0,h.Z)({},aA),{strength:a}))}}),(0,d.jsx)(D,{id:"strength",title:"Strength",children:"Strength represents the similarity between generated output and the init image. Setting low strength values will result in images similar to the input. High strength will produce more diverse outputs that closer resemble the prompt."})]}):(0,d.jsx)("div",{})]})]}):null,"mix"===M?(0,d.jsxs)(r.Z,{icon:(0,d.jsx)(ag.Z,{}),title:"Images",style:"plain",openByDefault:!0,children:[(0,d.jsxs)("div",{className:as().mixer_images,children:[(0,d.jsx)(D,{id:"image-mixing",title:"Image Mixing",children:"Upload or drag already generated pictures to mix them into one. Use sliders to apply weights to each image, guiding mixer in the desired direction. We recommend starting with default 1.0 and adjusting values by 0.05 increments, as weights are very sensitive. Higher weights may result in a loss of quality."}),aA.images.map(function(a,c){return(0,d.jsxs)("div",{className:as().mixer_image,children:[(0,d.jsxs)("div",{className:as().upload,onDrop:function(a){return k(a,"images[".concat(c,"]"))},onDragOver:b,children:[(0,d.jsx)(an.ZP,{accept:{"image/png":[".png"],"image/jpeg":[".jpeg",".jpg"]},multiple:!1,onDropAccepted:function(a){return aF("images[".concat(c,"]"),a)},disabled:a.loading,children:function(b){var c=b.getRootProps,e=b.getInputProps;return(0,d.jsx)("div",(0,i.Z)((0,h.Z)({},c()),{className:as()._dropzone,children:(0,d.jsxs)("div",{className:as().dropzone,children:[(0,d.jsx)("input",(0,h.Z)({},e())),a.url?(0,d.jsx)("div",{className:as().dropzone_image,children:(0,d.jsx)("img",{src:a.url,alt:"",style:{filter:0===a.strength?"opacity(0%)":"contrast(".concat(100*(a.strength||0),"%)")}})}):(0,d.jsx)("p",{children:"Drag an image here, or click to select one."}),a.loading?(0,d.jsx)("div",{className:as().image_loader,children:(0,d.jsx)(v.Z,{text:"",size:20})}):null]})}))}}),a.url?(0,d.jsx)("div",{className:as().upload_delete,children:(0,d.jsx)(p.Z,{onClick:function(){return aB(function(a){return(0,h.Z)({},ad().set(a,"images[".concat(c,"]"),{}))})},type:"icon",size:"xs",children:(0,d.jsx)(ah.Z,{})})}):(0,d.jsx)("div",{})]}),(0,d.jsx)("div",{className:as().mix_strength,children:(0,d.jsx)(Z.U,{min:0,max:3,step:.05,value:a.strength,onChange:function(a){return aB(function(b){return(0,h.Z)({},ad().set(b,"images[".concat(c,"].strength"),a))})}})})]},c)})]}),aA.images.length<6?(0,d.jsxs)(p.Z,{size:"sm",type:"default",onClick:function(){return aB(function(a){return(0,i.Z)((0,h.Z)({},a),{images:(0,j.Z)(a.images).concat([{url:"",strength:1}])})})},children:[(0,d.jsx)(ai.Z,{})," Add image"]}):(0,d.jsx)("div",{})]}):null,(0,d.jsxs)(r.Z,{icon:(0,d.jsx)(aj.Z,{}),title:"Resolution: ".concat(aA.width*("true"===aA.highres&&"free"!==y.plan&&"generate"===M&&"simple"===P?2:1),"px \xd7 ").concat(aA.height*("true"===aA.highres&&"generate"===M&&"simple"===P?2:1),"px"),style:"plain",children:[(0,d.jsx)("div",{className:as()._tabs_inner,children:(0,d.jsx)("div",{className:as().tabs,children:(0,d.jsxs)(_.m,{children:[(0,d.jsx)(_.O,{onClick:function(){return R("simple")},active:"simple"===P,children:"Simple"}),(0,d.jsx)(_.O,{onClick:function(){return R("advanced")},active:"advanced"===P,children:"Advanced"})]})})}),"simple"===P?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:as().aspect_ratios,children:[(0,d.jsx)("div",{className:as().aspect_row,children:(0,d.jsxs)("label",{htmlFor:"apsectRatio1_1",className:[as().aspect_ratio_btn,"1:1"===aA.aspectRatio?as().active:""].join(" "),children:[(0,d.jsx)("input",{id:"apsectRatio1_1",name:"aspectRatio",type:"checkbox",value:"1:1",onChange:a,checked:"1:1"===aA.aspectRatio}),(0,d.jsx)("span",{children:"1:1"}),(0,d.jsx)("i",{style:{width:8,height:8},className:as().apsect_ratio_vis})]})}),(0,d.jsxs)("div",{className:as().aspect_row,children:[(0,d.jsxs)("label",{htmlFor:"apsectRatio4_5",className:[as().aspect_ratio_btn,"4:5"===aA.aspectRatio?as().active:""].join(" "),children:[(0,d.jsx)("input",{id:"apsectRatio4_5",name:"aspectRatio",type:"checkbox",value:"4:5",onChange:a,checked:"4:5"===aA.aspectRatio}),(0,d.jsx)("span",{children:"4:5"}),(0,d.jsx)("i",{style:{width:8,height:10},className:as().apsect_ratio_vis})]}),(0,d.jsxs)("label",{htmlFor:"apsectRatio2_3",className:[as().aspect_ratio_btn,"2:3"===aA.aspectRatio?as().active:""].join(" "),children:[(0,d.jsx)("input",{id:"apsectRatio2_3",name:"aspectRatio",type:"checkbox",value:"2:3",onChange:a,checked:"2:3"===aA.aspectRatio}),(0,d.jsx)("span",{children:"2:3"}),(0,d.jsx)("i",{style:{width:8,height:12},className:as().apsect_ratio_vis})]}),(0,d.jsxs)("label",{htmlFor:"apsectRatio4_7",className:[as().aspect_ratio_btn,"4:7"===aA.aspectRatio?as().active:""].join(" "),children:[(0,d.jsx)("input",{id:"apsectRatio4_7",name:"aspectRatio",type:"checkbox",value:"4:7",onChange:a,checked:"4:7"===aA.aspectRatio}),(0,d.jsx)("span",{children:"4:7"}),(0,d.jsx)("i",{style:{width:8,height:14},className:as().apsect_ratio_vis})]})]}),(0,d.jsxs)("div",{className:as().aspect_row,children:[(0,d.jsxs)("label",{htmlFor:"apsectRatio5_4",className:[as().aspect_ratio_btn,"5:4"===aA.aspectRatio?as().active:""].join(" "),children:[(0,d.jsx)("input",{id:"apsectRatio5_4",name:"aspectRatio",type:"checkbox",value:"5:4",onChange:a,checked:"5:4"===aA.aspectRatio}),(0,d.jsx)("span",{children:"5:4"}),(0,d.jsx)("i",{style:{width:10,height:8},className:as().apsect_ratio_vis})]}),(0,d.jsxs)("label",{htmlFor:"apsectRatio3_2",className:[as().aspect_ratio_btn,"3:2"===aA.aspectRatio?as().active:""].join(" "),children:[(0,d.jsx)("input",{id:"apsectRatio3_2",name:"aspectRatio",type:"checkbox",value:"3:2",onChange:a,checked:"3:2"===aA.aspectRatio}),(0,d.jsx)("span",{children:"3:2"}),(0,d.jsx)("i",{style:{width:12,height:8},className:as().apsect_ratio_vis})]}),(0,d.jsxs)("label",{htmlFor:"apsectRatio7_4",className:[as().aspect_ratio_btn,"7:4"===aA.aspectRatio?as().active:""].join(" "),children:[(0,d.jsx)("input",{id:"apsectRatio7_4",name:"aspectRatio",type:"checkbox",value:"7:4",onChange:a,checked:"7:4"===aA.aspectRatio}),(0,d.jsx)("span",{children:"7:4"}),(0,d.jsx)("i",{style:{width:14,height:8},className:as().apsect_ratio_vis})]})]})]}),"generate"===M?(0,d.jsxs)("div",{style:{marginTop:-6},children:[(0,d.jsx)(q.Z,{id:"highres",value:aA.highres,label:"High-Res (+1 credit/image)",onChange:a,disabled:"free"===y.plan,noError:!0}),(0,d.jsx)(J,{id:"highres",text:"to generate High-Res images."})]}):(0,d.jsx)("div",{})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:{height:9}}),(0,d.jsxs)("div",{className:as().sliders2,children:[(0,d.jsx)(Z.Z,{label:"Width: ".concat(aA.width),min:256,max:1024,step:64,value:aA.width,onChange:function(a){return aB((0,i.Z)((0,h.Z)({},aA),{width:a}))}}),(0,d.jsx)(Z.Z,{label:"Height: ".concat(aA.height),min:256,max:1024,step:64,value:aA.height,onChange:function(a){return aB((0,i.Z)((0,h.Z)({},aA),{height:a}))}})]})]})]}),(0,d.jsxs)(r.Z,{icon:(0,d.jsx)(ak.Z,{}),title:"Generation Parameters",style:"plain",children:[(0,d.jsx)("div",{style:{height:12}}),(0,d.jsx)(Z.Z,{label:"Number of images: ".concat(aA.numImages),min:1,max:"free"===y.plan?4:10,step:1,value:aA.numImages,onChange:function(a){return aB((0,i.Z)((0,h.Z)({},aA),{numImages:a}))}}),(0,d.jsx)("div",{style:{height:24}}),(0,d.jsxs)("div",{className:as().sliders2,children:[(0,d.jsx)(Z.Z,{label:"Steps: ".concat(aA.steps),min:1,max:"free"===y.plan?50:75,step:1,value:aA.steps,onChange:function(a){return aB((0,i.Z)((0,h.Z)({},aA),{steps:a}))}}),(0,d.jsx)(Z.Z,{label:"Guidance scale: ".concat(aA.guidanceScale),min:0,max:20,step:1,value:aA.guidanceScale,onChange:function(a){return aB((0,i.Z)((0,h.Z)({},aA),{guidanceScale:a}))}})]}),"free"===y.plan?(0,d.jsx)(J,{id:"steps",text:"to generate images with up to 75 steps, or create up to 10 images in parallel."}):(0,d.jsx)("div",{style:{height:12}}),aA.steps>35?(0,d.jsxs)(D,{id:"steps-high",title:"Steps",children:["High number of steps may take a while to generate. For fast generations we recommend 20-25 steps. Learn more ",(0,d.jsx)("a",{href:"/guides/interactive-guide-to-stable-diffusion-steps-parameter",target:"_blank",children:"here"}),"."]}):(0,d.jsx)("div",{}),aA.steps<14?(0,d.jsxs)(D,{id:"steps-low",title:"Steps",children:["Low number of steps may result in bad image quality or noise. We recommend 20-25 steps. Learn more ",(0,d.jsx)("a",{href:"/guides/interactive-guide-to-stable-diffusion-steps-parameter",target:"_blank",children:"here"}),"."]}):(0,d.jsx)("div",{}),aA.guidanceScale>14?(0,d.jsxs)(D,{id:"guidance-scale-low",title:"Guidance scale",children:["High guidance scale may result in a loss of quality. We recommend values in 7-12 range. Learn more ",(0,d.jsx)("a",{href:"/guides/interactive-guide-to-stable-diffusion-guidance-scale-parameter",target:"_blank",children:"here"}),"."]}):(0,d.jsx)("div",{}),aA.guidanceScale<6?(0,d.jsxs)(D,{id:"guidance-scale-hight",title:"Guidance scale",children:["Low guidance scale value may result in bad prompt interpretation. We recommend values in 7-12 range. Learn more ",(0,d.jsx)("a",{href:"/guides/interactive-guide-to-stable-diffusion-guidance-scale-parameter",target:"_blank",children:"here"}),"."]}):(0,d.jsx)("div",{}),"mix"!==M?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(u.Z,{label:"Seed",id:"seed",placeholder:"Blank for random",value:aA.seed,onChange:a,type:"number",disableInfo:!0})}):(0,d.jsx)("div",{})]}),(0,d.jsxs)(r.Z,{icon:(0,d.jsx)(al,{}),title:"Advanced",style:"plain",children:["generate"!==M||"reference-only"===aA.controlnet&&aA.image&&aA.image.url&&"stable-diffusion-v2.1"!==aA.model&&!(aV&&aV.params.base_model&&aV.params.base_model.startsWith("stabilityai/stable-diffusion-2-1"))?(0,d.jsx)("div",{}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Y.Z,{label:"Sampler",id:"scheduler",options:[{value:"euler_a",key:"Euler Ancestral"},{value:"euler",key:"Euler"},{value:"lms",key:"LMS"},{value:"dpmsolver++",key:"DPM-Solver++"},{value:"pndm",key:"PLMS"},{value:"ddim",key:"DDIM"},{value:"kdpm2",key:"DPM Karras"},{value:"kdpm2_a",key:"DPM Karras Ancestral"},],value:aA.scheduler,onChange:a,noInfo:!0}),(0,d.jsx)(D,{id:"sampler",title:"Sampler",children:"Use DPM-Solver++ for fastest generation."}),"stable-diffusion-v2.1"===aA.model||aV&&aV.params.base_model&&aV.params.base_model.startsWith("stabilityai/stable-diffusion-2-1")?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)($.Z,{id:"skipControlnetProcessing",value:aA.skipControlnetProcessing,values:["false","true"],labels:["","Skip ControlNet pre-processing"],onChange:function(a,b){return aB(function(a){return(0,i.Z)((0,h.Z)({},a),{skipControlnetProcessing:b})})}}),(0,d.jsx)("div",{style:{height:12}})]})]}),(0,d.jsx)($.Z,{id:"enhanceFace",value:aA.enhanceFace,values:["false","true"],labels:["","Fix faces (+1 credit/image)"],onChange:function(a,b){return aB(function(a){return(0,i.Z)((0,h.Z)({},a),{enhanceFace:b})})}}),(0,d.jsx)("div",{style:{height:12}}),(0,d.jsx)("small",{className:"small",children:"You can always upscale and enhance faces after generating images."})]})]})}),(0,d.jsxs)("form",{className:as().actions,onSubmit:aS,children:[(0,d.jsx)("small",{className:"small",style:{marginBottom:6},children:(0,d.jsxs)("span",{children:["Need ",aA.numImages*(1+("true"===aA.enhanceFace?1:0)+("true"===aA.highres&&"free"!==y.plan&&"generate"===M&&"simple"===P?1:0))," credit",aA.numImages+(1+("true"===aA.highres&&"free"!==y.plan&&"generate"===M&&"simple"===P?1:0)+("true"===aA.enhanceFace?1:0))===1?"":"s"," for this generation."]})}),(0,d.jsx)(p.Z,{fullWidth:!0,loading:au,size:"lg",errorFor:["prompt"],children:y.id?(0,d.jsxs)(d.Fragment,{children:["Generat",au?"ing":"e "+aA.numImages+(1===aA.numImages?" image":" images"),"\xa0  ",(0,d.jsxs)("small",{className:as().keyboard,children:[(0,d.jsx)(am,{})," + G"]})]}):(0,d.jsx)(d.Fragment,{children:"Create free account"})})]})]})}),(0,d.jsxs)("div",{className:as().images,id:"images",children:[(0,d.jsxs)(ao.Z,{dataLength:C.length,next:aD,hasMore:T.hasMore,loader:!0,className:as().infinite,children:[0===C.length&&T.loading?(0,d.jsx)("div",{style:{marginTop:24},children:(0,d.jsx)(v.Z,{text:"Loading images..."})}):null,(0,d.jsxs)(ap.Z,{breakpointCols:{default:8,2400:6,1700:4,1260:3,1024:2,840:1,760:2},className:as().grid,columnClassName:as().column,children:[C.map(function(a){return(0,d.jsx)("div",{id:a.id,className:[as().img,ac===a.id?as().img_dragging:""].join(" "),draggable:!0,onDragStart:c,onDragEnd:e,children:(0,d.jsx)(s.Z,{onCopyParams:aO,onCopyImage:aM,onSelect:K,onDelete:aQ,onUpscale:aI,onEnhanceFace:aK,image:a,hoverable:ac!==a.id,imageLoader:W.O})},a.id)}),0==C.length&&Array(24).fill(1).map(function(a,b){return(0,d.jsx)("div",{className:as().image,style:{paddingBottom:"100%"}},b)})]}),(0,d.jsx)("div",{style:{height:24}}),y.id&&T.hasMore?(0,d.jsxs)(p.Z,{type:"default",loading:T.loading,onClick:aD,fullWidth:!0,children:["Load",T.loading?"ing":""," more images"]}):(0,d.jsx)("div",{}),(0,d.jsx)("div",{style:{height:24}})]}),(0,d.jsx)(w.k,{})]}),void 0!==I?(0,d.jsxs)("div",{className:as()._overlay,children:[(0,d.jsx)("div",{className:as().overlay}),(0,d.jsx)("div",{className:as()._modal,children:(0,d.jsxs)("div",{className:as().modal,children:[(0,d.jsx)("button",{className:as().close,onClick:function(){return K(void 0)},children:(0,d.jsx)(z.Z,{size:14})}),(0,d.jsx)("div",{className:as().modal_image,children:(0,d.jsx)(aq.default,{onOutsideClick:function(){return K(void 0)},display:"contents",children:(0,d.jsx)(t.Z,(0,h.Z)({},I),I.id)})})]})})]}):null]})}function au(){var a=(0,E.T)(),b=(0,E.C)(F.dy),c=(0,E.C)(F.ss);return(0,A.useEffect)(function(){"failed"!==c&&"completed"!==c||b.id||a((0,ab.FA)("register"))},[c,b.id]),(0,d.jsx)(e.Z,{title:"Generate photo-realistic images from text using Stable Diffusion",description:"We provide simple access to Stable Diffusion model, which enables generating photo-realistic images with given text input.",canonical:"/text-to-image",image:"/social-image-generator.png",footer:!1,children:(0,d.jsx)(at,{})})}},7081:function(a){a.exports={"_":"collapse____TMebO",plain:"collapse_plain__QdLTn",title:"collapse_title__5v17S","_content":"collapse__content__UCI81","_head":"collapse__head__WuwXI",head:"collapse_head__DeVhb","_open":"collapse__open__2oBUh",chevron:"collapse_chevron___zsmw",left:"collapse_left__H983u",center:"collapse_center__zC28f",right:"collapse_right__BUdkI",open:"collapse_open__DLM6y",tag:"collapse_tag__0SLu3"}},3913:function(a){a.exports={"_":"ai-generator____v_yms","_controls":"ai-generator__controls___8Piq",controls:"ai-generator_controls__ArQ54","_tabs":"ai-generator__tabs__Jn0T3",tabs:"ai-generator_tabs__MP411","_tabs_inner":"ai-generator__tabs_inner__NGwT3","_parameters":"ai-generator__parameters__YgHmr",parameters:"ai-generator_parameters__vio9v",random:"ai-generator_random__f2t2a",sliders2:"ai-generator_sliders2__vf0XO",mixer_images:"ai-generator_mixer_images__VU5CX",mixer_image:"ai-generator_mixer_image__VmVkB","_dropzone":"ai-generator__dropzone__w7cHT",upload:"ai-generator_upload__yT_nG",dropzone:"ai-generator_dropzone__EevXg",dropzone_image:"ai-generator_dropzone_image__KpiLA",image_loader:"ai-generator_image_loader__KrUaw",upload_delete:"ai-generator_upload_delete__Ezf91",actions:"ai-generator_actions__gA_Xn",keyboard:"ai-generator_keyboard__5Jrgg",images:"ai-generator_images___x2l6",images_head:"ai-generator_images_head__DNtWS",infinite:"ai-generator_infinite__9oyQm",grid:"ai-generator_grid__YK64A",column:"ai-generator_column__U_i5_",img:"ai-generator_img__EKyK3",img_dragging:"ai-generator_img_dragging__qha8C","_overlay":"ai-generator__overlay__N3jJA",overlay:"ai-generator_overlay__QERFA","fade-in":"ai-generator_fade-in__S3aCC","_modal":"ai-generator__modal__a3O5t",modal:"ai-generator_modal__6guHM","slide-in":"ai-generator_slide-in__y8Ds1",modal_image:"ai-generator_modal_image__3tswV",close:"ai-generator_close__O05CU",aspect_ratios:"ai-generator_aspect_ratios__G3Vp2",aspect_row:"ai-generator_aspect_row__DysiX",aspect_ratio_btn:"ai-generator_aspect_ratio_btn__mTPGB",apsect_ratio_vis:"ai-generator_apsect_ratio_vis__uJ3Ye",active:"ai-generator_active__gaZg_"}}},function(a){a.O(0,[3662,959,141,536,8866,7579,4038,2071,3588,2234,9774,2888,179],function(){var b;return a(a.s=6635)}),_N_E=a.O()}])
//# sourceMappingURL=text-to-image-949b59a7d89d990a.js.map